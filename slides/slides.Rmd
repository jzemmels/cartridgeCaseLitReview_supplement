---
title: "A Cartridge Case Comparison Pipeline"
subtitle: "Oral Preliminary Exam"
author: "Joseph Zemmels"
institute: "Iowa State University: Center for Statistics and Applications in Forensic Evidence"
date: "2022-06-17"
output:
  xaringan::moon_reader:
    mathjax: "https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_HTMLorMML"
    css: ["default", "css/csafe.css", "css/csafe-fonts.css", "css/this-presentation.css"]
    lib_dir: libs
    nature:
      countIncrementalSlides: false
---

```{r, load_refs, include=FALSE, cache=FALSE}
library(RefManageR)
# remotes::install_github("ROpenSci/bibtex")
RefManageR::BibOptions(check.entries = FALSE,
                       bib.style = "authoryear",
                       cite.style = "alphabetic",
                       style = "markdown",
                       max.names = 1,
                       no.print.fields = c("urldate","file","issn","url","keywords","language","abstract"),
                       hyperlink = FALSE,
                       dashed = FALSE)
myBib <- RefManageR::ReadBib("ref.bib", check = FALSE)
```

```{r setup, include=FALSE}
options(htmltools.dir.version = FALSE)

knitr::opts_chunk$set(echo = FALSE,
        fig.align = 'center')
```


# Acknowledgements

## Funding statement

This work was partially funded by the Center for Statistics and Applications in Forensic Evidence (CSAFE) through Cooperative Agreement 70NANB20H019 between NIST and Iowa State University, which includes activities carried out at Carnegie Mellon University, Duke University, University of California Irvine, University of Virginia, West Virginia University, University of Pennsylvania, Swarthmore College and University of Nebraska, Lincoln.

---

# Outline

- **Introduction** Firearms and Toolmarks Identification

- **Paper \#1** A Study in Reproducibility: The Congruent Matching Cells Algorithm and cmcR package

- **Paper \#2** Diagnostic Tools for Cartridge Case Comparison Algorithms

- **Paper \#3** Automatic Matching of Cartridge Case Impressions

- **Conclusions**

---

class: center, middle

# Introduction

## Firearms and Toolmarks Identification

---

## The Firing Process

As the bullet travels down the barrel, the cartridge case travels backwards.

```{r,echo = FALSE,out.width="40%"}
knitr::include_graphics("images/firingCartridgeDiagram.jpg")
```

Contact with the back wall of the barrel leaves *breech face impressions*.

```{r,echo = FALSE,out.width="40%"}
knitr::include_graphics("images/realCartridgeCaseImage.jpg")
```

Similarity of breech face impressions on two cartridge cases suggests they were fired from the same gun.

---

## Firearms and Toolmarks (F & T) Examinations

A *comparison microscope* combines two compound microscopes into a single view [Zheng et al. (2014) citation].

```{r,echo = FALSE,out.width="50%"}
knitr::include_graphics("images/comparisonMicroscope.png")
```

Each stage is independently translated or rotated to find optimal matching position.

---

## Firearms and Toolmarks (F & T) Examinations

- **Class characteristics:** features associated with manufacturer of the firearm

  - E.g., size of ammunition, width and twist direction of barrel rifling
  
  - Used to narrow the relevant population of potential firearms

- **Individual characteristics:** markings attributed to imperfections in the firearm surface
  
- **Subclass characteristics:** markings that are reproduced across a sub-group of firearms

  - E.g., barrels milled by the same machine may share similar markings.
  
  - Difficult to distinguish individual from subclass characteristics.

- "Sufficient" agreement of class and individual characteristics suggests that the evidence originated from the same firearm.<sup>1</sup>

.footnote[[1] AFTE citation here]

---

## AFTE Range of Conclusions

1. **Identification**: Agreement of a combination of individual characteristics and all discernible class characteristics where the extent of agreement exceeds that which can occur in the comparison of toolmarks made by different tools and is consistent with the agreement demonstrated by toolmarks known to have been produced by the same tool.

2. **Inconclusive**:

  2.1 Some agreement of individual characteristics and all discernible class characteristics, but insufficient for an identification.

  2.2 Agreement of all discernible class characteristics without agreement or disagreement of individual characteristics due to an absence, insufficiency, or lack of reproducibility.

  2.3 Agreement of all discernible class characteristics and disagreement of individual characteristics, but insufficient for an elimination.

3. **Elimination**: Significant disagreement of discernible class characteristics and/or individual characteristics.

4. **Unsuitable**: Unsuitable for examination.

---

## Why Change F & T Examinations?

- "Sufficient studies have not been done to understand the reliability and repeatability of the methods."<sup>1</sup>

- "A fundamental problem with toolmark and firearms analysis is the lack of a precisely defined process."<sup>1</sup>

- "Automated techniques capable of enhancing forensic technologies" should be developed.<sup>1</sup>

- "Firearms analysis currently falls short of the criteria for foundational validity."<sup>2</sup>

- Efforts should be made to "convert firearms analysis from a subjective method to an objective method ... [which] would involve developing and testing image-analysis algorithms for comparing the similarity of toolmarks..."<sup>2</sup>

.footnote[[1] NAS report, [2] PCAST report]

---

## F & T Comparison Algorithms

- *Automatic Matching of of Bullet Land Impressions* `r Citep(myBib,c("hare_automatic_2016"))`

- *Adapting the Chumbley Score to Match Striae on Land Engraved Areas (LEAs) of Bullets* `r Citep(myBib,c("Krishnan2018"))`

- *A Fully Automatic Method for Comparison Cartridge Case Images* `r Citep(myBib,c("tai_fully_2018"))`

- Riva and Champod

- Riva et al.

- Song (2013)

---

## Data Format

```{r,echo = FALSE,out.width="50%"}
knitr::include_graphics("images/TopMatchSystem7.png")
```


---

class: center, middle

# Paper \#1

## A Study in Reproducibility: The Congruent Matching Cells Algorithm and cmcR package

### Submitted to *The R Journal*

---

## Motivation

Cite Kiegan's dissertation

---

## What we've done

---

## Modularization of Data Analysis Pipelines

- Modularization

---

## The cmcR package

- "Tidy" functionality

---

## What we need to do

- Resubmission \#2

- Cartridge case data published on Figshare or ISU DataShare

---

class: center, middle

# Paper \#2

## Diagnostic Tools for Cartridge Case Comparion Algorithms

### To be submitted to *Journal of Computational and Graphical Statistics*

---

## Motivation

---

## What we've done

---

## Visual Diagnostics

---

## The `impressions` package

---

## Interactive Diagnostics

---

## The `cartridgeInvestigatoR` app

---

## What we need to do

---

class: center, middle

# Paper \#3

## Automatic Matching of Cartridge Case Impressions

### To be submitted to *The Journal of Data Science, Statistics, and Visualizations*

---

## Motivation

- Utilize image processing and clustering algorithms to extract new features from cartridge case scans.

- Train a classifier (decision tree or random forest)

---

## What we've done

---

## Morphological Operations

- *"Some regions on the sample, such as the primer roll-off, are not informative, but may significantly affect similarity results if they are compared."* <sup>1</sup>

.footnote[[1] "Computer-Aided Firearm and Toolmark Analysis" by Johannes Soons of NIST]

- `cmcR::preProcess_erode` function

---

## DBSCAN Algorithm

- Density-Based Spatial Clustering of Applications with Noise

---

## Features based on Visual Diagnostics

---

## Train/test procedure

---

## What we need to do

- Updates to the cmcR package

  - New `preProcess_`, `comparison_`, and `decision_` functions

  - Use `caret` (Classification And REgression Training) and/or `tidymodels` R packages to implement train/test procedure `r Citep(myBib,c("caret","tidymodels"))`

- DFSC TopMatch Data Set

  - Data in Brief

  - Validation of pipeline using [\#] scans

---
class: center, middle

# Conclusions

---
class: primary-blue
# References

```{r refs1, echo=FALSE, results="asis"}
# RefManageR::NoCite(myBib,1:5)
RefManageR::PrintBibliography(myBib,start = 1,end = 6)
```

---
class: primary-blue
# References

```{r refs2, echo=FALSE, results="asis"}
# RefManageR::NoCite(myBib,1:5)
RefManageR::PrintBibliography(myBib,start = 7,end = 7)
```

